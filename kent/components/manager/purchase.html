<div class="purchase-container">
  <div class="purchase-header">
    <h1>Purchase Orders</h1>
    <button class="add-order-btn" onclick="openAddOrderModal()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      Create Purchase Order
    </button>
  </div>

  <div class="purchase-card">
    <div class="purchase-top">
      <h2>Purchase Order Management</h2>
      <div class="search-wrapper">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input type="text" class="search-input" placeholder="Search orders..." id="searchOrderInput" oninput="filterOrders()">
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon pending">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </div>
        <div class="stat-content">
          <h3>Pending</h3>
          <p class="stat-number">8</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon approved">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
        </div>
        <div class="stat-content">
          <h3>Approved</h3>
          <p class="stat-number">12</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon received">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
            <polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline>
            <polyline points="7.5 19.79 7.5 14.6 3 12"></polyline>
            <polyline points="21 12 16.5 14.6 16.5 19.79"></polyline>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
            <line x1="12" y1="22.08" x2="12" y2="12"></line>
          </svg>
        </div>
        <div class="stat-content">
          <h3>Received</h3>
          <p class="stat-number">25</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon total">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
            <line x1="1" y1="10" x2="23" y2="10"></line>
          </svg>
        </div>
        <div class="stat-content">
          <h3>Total Orders</h3>
          <p class="stat-number">45</p>
        </div>
      </div>
    </div>

    <div class="table-controls">
      <div class="filter-section">
        <select class="filter-select" id="statusFilter" onchange="applyOrderFilters()">
          <option value="all">All Status</option>
          <option value="pending">Pending</option>
          <option value="approved">Approved</option>
          <option value="received">Received</option>
          <option value="cancelled">Cancelled</option>
        </select>
        
        <select class="filter-select" id="dateFilter" onchange="applyOrderFilters()">
          <option value="all">All Time</option>
          <option value="today">Today</option>
          <option value="week">This Week</option>
          <option value="month">This Month</option>
        </select>

        <select class="filter-select" id="supplierFilter" onchange="applyOrderFilters()">
          <option value="all">All Suppliers</option>
          <option value="supplier1">Optical Warehouse Inc.</option>
          <option value="supplier2">Lens Masters Co.</option>
          <option value="supplier3">Frame Direct Ltd.</option>
        </select>
      </div>

      <div class="view-controls">
        <span class="result-count" id="orderResultCount">Showing 5 orders</span>
        <button class="export-btn" onclick="exportOrders()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
          Export
        </button>
      </div>
    </div>

    <div class="table-wrapper">
      <table class="purchase-table" id="purchaseTable">
        <thead>
          <tr>
            <th>
              <input type="checkbox" id="selectAllOrders" onchange="toggleSelectAllOrders()">
            </th>
            <th onclick="sortOrderTable('po')">PO Number</th>
            <th onclick="sortOrderTable('supplier')">Supplier</th>
            <th onclick="sortOrderTable('date')">Order Date</th>
            <th onclick="sortOrderTable('delivery')">Expected Delivery</th>
            <th onclick="sortOrderTable('items')">Items</th>
            <th onclick="sortOrderTable('total')">Total Amount</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="purchaseTableBody">
          <tr data-status="pending" data-supplier="supplier1">
            <td><input type="checkbox" class="order-checkbox"></td>
            <td>
              <div class="po-cell">
                <span class="po-number">PO-2024-001</span>
              </div>
            </td>
            <td>Optical Warehouse Inc.</td>
            <td>Dec 20, 2024</td>
            <td>Dec 27, 2024</td>
            <td>15 items</td>
            <td><strong>₱125,000.00</strong></td>
            <td><span class="status-badge pending">Pending</span></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn view" onclick="viewOrder(this)" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
                <button class="action-btn edit" onclick="editOrder(this)" title="Edit">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                  </svg>
                </button>
                <button class="action-btn approve" onclick="approveOrder(this)" title="Approve">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="deleteOrder(this)" title="Cancel">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <tr data-status="approved" data-supplier="supplier2">
            <td><input type="checkbox" class="order-checkbox"></td>
            <td>
              <div class="po-cell">
                <span class="po-number">PO-2024-002</span>
              </div>
            </td>
            <td>Lens Masters Co.</td>
            <td>Dec 18, 2024</td>
            <td>Dec 25, 2024</td>
            <td>8 items</td>
            <td><strong>₱45,500.00</strong></td>
            <td><span class="status-badge approved">Approved</span></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn view" onclick="viewOrder(this)" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
                <button class="action-btn receive" onclick="markReceived(this)" title="Mark as Received">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="deleteOrder(this)" title="Cancel">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <tr data-status="received" data-supplier="supplier3">
            <td><input type="checkbox" class="order-checkbox"></td>
            <td>
              <div class="po-cell">
                <span class="po-number">PO-2024-003</span>
              </div>
            </td>
            <td>Frame Direct Ltd.</td>
            <td>Dec 15, 2024</td>
            <td>Dec 22, 2024</td>
            <td>20 items</td>
            <td><strong>₱89,200.00</strong></td>
            <td><span class="status-badge received">Received</span></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn view" onclick="viewOrder(this)" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
                <button class="action-btn print" onclick="printOrder(this)" title="Print">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 6 2 18 2 18 9"></polyline>
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                    <rect x="6" y="14" width="12" height="8"></rect>
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <tr data-status="pending" data-supplier="supplier1">
            <td><input type="checkbox" class="order-checkbox"></td>
            <td>
              <div class="po-cell">
                <span class="po-number">PO-2024-004</span>
              </div>
            </td>
            <td>Optical Warehouse Inc.</td>
            <td>Dec 22, 2024</td>
            <td>Dec 29, 2024</td>
            <td>12 items</td>
            <td><strong>₱67,800.00</strong></td>
            <td><span class="status-badge pending">Pending</span></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn view" onclick="viewOrder(this)" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
                <button class="action-btn edit" onclick="editOrder(this)" title="Edit">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                  </svg>
                </button>
                <button class="action-btn approve" onclick="approveOrder(this)" title="Approve">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="deleteOrder(this)" title="Cancel">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <tr data-status="cancelled" data-supplier="supplier2">
            <td><input type="checkbox" class="order-checkbox"></td>
            <td>
              <div class="po-cell">
                <span class="po-number">PO-2024-005</span>
              </div>
            </td>
            <td>Lens Masters Co.</td>
            <td>Dec 10, 2024</td>
            <td>Dec 17, 2024</td>
            <td>5 items</td>
            <td><strong>₱22,500.00</strong></td>
            <td><span class="status-badge cancelled">Cancelled</span></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn view" onclick="viewOrder(this)" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="table-pagination">
      <div class="pagination-info">
        Showing <span id="orderShowingStart">1</span> to <span id="orderShowingEnd">5</span> of <span id="totalOrders">5</span> orders
      </div>
      <div class="pagination-controls">
        <button class="pagination-btn" onclick="previousOrderPage()" id="prevOrderBtn" disabled>Previous</button>
        <div class="pagination-numbers">
          <button class="page-number active">1</button>
        </div>
        <button class="pagination-btn" onclick="nextOrderPage()" id="nextOrderBtn" disabled>Next</button>
      </div>
    </div>
  </div>
</div>